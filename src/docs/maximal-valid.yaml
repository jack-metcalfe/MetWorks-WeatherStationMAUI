#maximal-valid
codeGen:
  registryClass: "Registry"
  codePath: "C:/Temp/GeneratedCode"
  namespace: "ServiceRegistry"
  initializer: "InitializeAsync"

namespace:
  - name: "Interfaces"
    interface:
      - name: "IEventRelayBasic"
      - name: "IEventRelayPath"
      - name: "ILogger"
      - name: "ISettingProvider"
      - name: "ISettingRepository"
    class: []

  - name: "System"
    interface: []
    class:
      - name: "String"
        interface: null
        parameter: []
      - name: "Boolean"
        interface: null
        parameter: []

  - name: "System.Threading"
    interface: []
    class:
      - name: "CancellationTokenSource"
        interface: null
        parameter: []

  - name: "EventRelay"
    interface: []
    class:
      - name: "EventRelayBasic"
        interface: "Interfaces.IEventRelayBasic"
        parameter: []
      - name: "EventRelayPath"
        interface: "Interfaces.IEventRelayPath"
        parameter: []

  - name: "Logging"
    interface: []
    class:
      - name: "LoggerStub"
        interface: Interfaces.ILogger
        parameter: []
      - name: "LoggerFile"
        interface: Interfaces.ILogger
        parameter:
          - name: "iLogger"
            class: null
            interface: "Interfaces.ILogger"
          - name: "iSettingRepository"
            class: null
            interface: "Interfaces.ISettingRepository"

  - name: "Settings"
    interface: []
    class:
      - name: "SettingProvider"
        interface: Interfaces.ISettingProvider
        parameter:
          - name: "iLogger"
            class: null
            interface: "Interfaces.ILogger"
      - name: "SettingRepository"
        interface: Interfaces.ISettingRepository
        parameter:
          - name: "iLogger"
            class: null
            interface: "Interfaces.ILogger"
          - name: "iSettingProvider"
            class: null
            interface: "Interfaces.ISettingProvider"

  - name: "RedStar.Amounts.WeatherExtensions"
    interface: []
    class:
      - name: "UnitsOfMeasureInitializer"
        interface: null
        parameter:
          - name: "iLogger"
            class: null
            interface: "Interfaces.ILogger" 

  - name: "MetWorksServices"
    interface: []
    class:
      - name: "ProvenanceTracker"
        interface: null
        parameter:
          - name: "iLogger"
            class: null
            interface: "Interfaces.ILogger"
      - name: "WeatherDataTransformer"
        interface: null
        parameter:
          - name: "iLogger"
            class: null
            interface: "Interfaces.ILogger"
          - name: "iSettingRepository"
            class: null
            interface: "Interfaces.ISettingRepository"
          - name: "iEventRelayBasic"
            class: null
            interface: "Interfaces.IEventRelayBasic"
          - name: "provenanceTracker"
            class: "MetWorksServices.ProvenanceTracker"
            interface: null

  - name: "UdpInRawPacketRecordTypedOut"
    interface: []
    class:
      - name: "Transformer"
        interface: Interfaces.IBackgroundService
        parameter:
          - name: "iLogger"
            class: null
            interface: "Interfaces.ILogger"
          - name: "iSettingRepository"
            class: null
            interface: "Interfaces.ISettingRepository"
          - name: "externalCancellationTokenSource"
            class: "System.Threading.CancellationTokenSource"
            interface: null
          - name: "provenanceTracker"
            class: "MetWorksServices.ProvenanceTracker"
            interface: null

  - name: "RawPacketRecordTypedInPostgresOut"
    interface: []
    class:
      - name: "ListenerSink"
        interface: Interfaces.IBackgroundService
        parameter:
          - name: "iLogger"
            class: null
            interface: "Interfaces.ILogger"
          - name: "iSettingRepository"
            class: null
            interface: "Interfaces.ISettingRepository"
          - name: "provenanceTracker"
            class: "MetWorksServices.ProvenanceTracker"
            interface: null

instance:
  - name: "RootCancellationTokenSource"
    class: "System.Threading.CancellationTokenSource"
    assignment: []
    element: []

  - name: "TheEventRelayBasic"
    class: "EventRelay.EventRelayBasic"
    assignment: []
    element: []

  - name: "TheEventRelayPath"
    class: "EventRelay.EventRelayPath"
    assignment: []
    element: []

  - name: "TheLoggerStub"
    class: "Logging.LoggerStub"
    assignment: []
    element: []

  - name: "TheSettingProvider"
    class: "Settings.SettingProvider"
    assignment:
      - name: "iLogger"
        literal: null
        instance: "TheLoggerStub"
    element: []

  - name: "TheSettingRepository"
    class: "Setting.SettingRepository"
    assignment:
      - name: "iLogger"
        literal: null
        instance: "TheLoggerStub"
      - name: "iSettingProvider"
        literal: null
        instance: "TheSettingProvider"
      - name: "iEventRelayBasic"
        literal: null
        instance: "TheEventRelayBasic"
    element: []

  - name: "TheLoggerFile"
    class: "Logging.LoggerFile"
    assignment:
      - name: "iLogger"
        literal: null
        instance: "TheLoggerStub"
      - name: "iSettingRepository"
        literal: null
        instance: "TheSettingRepository"
    element: []

  - name: "TheProvenanceTracker"
    class: "MetWorksServices.ProvenanceTracker"
    assignment:
      - name: "iLogger"
        literal: null
        instance: "TheLoggerFile"
    element: []

  - name: "TheWeatherDataTransformer"
    class: "MetWorksServices.WeatherDataTransformer"
    assignment:
      - name: "iLogger"
        literal: null
        instance: "TheLoggerFile"
      - name: "iSettingRepository"
        literal: null
        instance: "TheSettingRepository"
      - name: "iEventRelayBasic"
        literal: null
        instance: "TheEventRelayBasic"
      - name: "provenanceTracker"
        literal: null
        instance: "TheProvenanceTracker"
    element: []

  - name: "TheUdpListener"
    class: "UdpInRawPacketRecordTypedOut.Transformer"
    assignment:
      - name: "iLogger"
        literal: null
        instance: "TheLoggerFile"
      - name: "iSettingRepository"
        literal: null
        instance: "TheUDPSettingRepository"
      - name: "externalCancellationTokenSource"
        literal: null
        instance: "RootCancellationTokenSource"
      - name: "provenanceTracker"
        literal: null
        instance: "TheProvenanceTracker"
    element: []

  - name: "TheRawPacketRecordTypedInPostgresOut"
    class: "RawPacketRecordTypedInPostgresOut.ListenerSink"
    assignment:
      - name: "iLogger"
        literal: null
        instance: "TheLoggerFile"
      - name: "iSettingRepository"
        literal: null
        instance: "TheSettingRepository"
      - name: "provenanceTracker"
        literal: null
        instance: "TheProvenanceTracker"
    element: []