codeGen:

  registryClass: Registry
  generatedCodePath: C:/Temp/DdiRuntime/Generated
  resourceProvider: StaticDataStore
  namespace: ServiceRegistry
  failFast: true
  enumTemplatePath: CodeGeneration/NamedInstanceAccessor/Templates/Enums.tplt
  enums:
    - enum: RegAssembly
      scope: internal
    - enum: RegInterface
      scope: internal
    - enum: RegType
      scope: internal
    - enum: RegNamedInstance
      scope: public
    
  namedInstanceAccessor:  
    class: NamedInstanceAccessor
    classTemplatePath: CodeGeneration/NamedInstanceAccessor/Templates/NamedInstanceAccessorClass.tplt
    functionTemplatePath: CodeGeneration/NamedInstanceAccessor/Templates/NamedInstanceAccessorFunction.tplt
  
assemblies:
  - assembly: InterfaceDefinition
    fullName: InterfaceDefinition, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
    path: C:/Users/JackM/source/repos/Weather App/ServiceAssemblies/InterfaceDefinition.dll
  - assembly: Logging
    fullName: Logging, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
    path: C:/Users/JackM/source/repos/Weather App/ServiceAssemblies/Logging.dll
  - assembly: Settings
    fullName: Settings, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
    path: C:/Users/JackM/source/repos/Weather App/ServiceAssemblies/Settings.dll
  - assembly: System
    primitive: true
  - assembly: Utility
    fullName: Utility, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
    path: C:/Users/JackM/source/repos/Weather App/ServiceAssemblies/Utility.dll
  - assembly: Resources
    fullName: Resources, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
    path: C:/Users/JackM/source/repos/Weather App/ServiceAssemblies/Resources.dll
  - assembly: UdpInRawPacketRecordTypedOut
    fullName: UdpInRawPacketRecordTypedOut, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
    path: C:/Users/JackM/source/repos/Weather App/ServiceAssemblies/UdpInRawPacketRecordTypedOut.dll
  - assembly: RawPacketRecordTypedInPostgresOut
    fullName: RawPacketRecordTypedInPostgresOut, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
    path: C:/Users/JackM/source/repos/Weather App/ServiceAssemblies/RawPacketRecordTypedInPostgresOut.dll
  - assembly: MauiSettingOverrideProviders
    fullName: MauiSettingOverrideProviders, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
    path: C:/Users/JackM/source/repos/Weather App/ServiceAssemblies/MauiSettingOverrideProviders.dll

namespaces:

  - namespace: InterfaceDefinition
  
    interfaces:
    
      - interface: IFileLogger
        assemblyKey: InterfaceDefinition      
        
      - interface: ISettingConfiguration
        assemblyKey: InterfaceDefinition
        
      - interface: ISettingConfiguration[]
        assemblyKey: InterfaceDefinition
        
      - interface: ISettingsRepository
        assemblyKey: InterfaceDefinition
        
      - interface: IBackgroundService
        assemblyKey: InterfaceDefinition
        
      - interface: Settings.ISettingOverridesProvider
        assemblyKey: InterfaceDefinition
        
  - namespace: System
  
    types:
    
      - type: String
        assemblyKey: System

      - type: String[]
        assemblyKey: System

      - type: Int32
        assemblyKey: System

      - type: Boolean
        assemblyKey: System
        
      - type: Boolean?
        assemblyKey: System

      - type: CancellationTokenSource
        assemblyKey: System
        assignable: false
  
  - namespace: Logging
  
    types:
    
      - type: FileLogger
        assemblyKey: Logging
        interfaceKeys:
          - InterfaceDefinition.IFileLogger
        initializers:
          - initializer: InitializeAsync
            parameters:
              - parameter: fileSizeLimitBytes
                typeKey: System.Int32
              - parameter: minimumLevel
                typeKey: System.String
              - parameter: outputTemplate
                typeKey: System.String
              - parameter: path
                typeKey: System.String
              - parameter: retainedFileCountLimit
                typeKey: System.Int32
              - parameter: rollingInterval
                typeKey: System.String
              - parameter: rollOnFileSizeLimit
                typeKey: System.Boolean

  - namespace: MauiSettingOverridesProviders
      
    types:
      
      - type: AppDataSettingOverridesProvider
        assemblyKey: MauiSettingOverridesProviders
        interfaceKeys:
          - InterfaceDefinition.ISettingOverridesProvider
        initializers:
          - initializer: InitializeAsync
            parameters:
              - parameter: filename
                typeKey: System.String
                    
  - namespace: Settings
  
    types:

      - type: SettingConfiguration
        assemblyKey: Settings
        initializers:
          - initializer: InitializeAsync
            parameters:
              - parameter: defaultValue
                typeKey: System.String
              - parameter: description
                typeKey: System.String
              - parameter: expectedValueType
                typeKey: System.String
              - parameter: group
                typeKey: System.String
              - parameter: isEditable
                typeKey: System.Boolean
              - parameter: path
                typeKey: System.String
              - parameter: enumValues
                typeKey: System.String[]
              - parameter: isSecret
                typeKey: System.Boolean?

      - type: SettingConfiguration[]
        assemblyKey: Settings

        # ToDo: Change design to use a Single Repository and ensure paths are unique
        # As of 2025/10/27 there is a non-thread safe single dictionary pointed to by
        # Multiple SettingsRepsitories, which is not safe or ideal.
      - type: SettingsRepository
        assemblyKey: Settings
        initializers:
          - initializer: InitializeAsync
            parameters:
              - parameter: iFileLogger
                interfaceKey: InterfaceDefinition.IFileLogger
              - parameter: settingConfigurations
                typeKey: Settings.SettingConfiguration[]
              - parameter: iSettingOverridesProvider
                interfaceKey: InterfaceDefinition.ISettingOverridesProvider

  - namespace: UdpInRawPacketRecordTypedOut 
    
    types:

      - type: Transformer
        assemblyKey: UdpInRawPacketRecordTypedOut
        interfaceKeys:
          - InterfaceDefinition.IBackgroundService
        initializers:
          - initializer: InitializeAsync
            parameters:
              - parameter: iFileLogger
                interfaceKey: InterfaceDefinition.IFileLogger
              - parameter: iSettingsRepository
                interfaceKey: InterfaceDefinition.ISettingsRepository
              - parameter: externalCancellationTokenSource
                typeKey: System.CancellationTokenSource

  - namespace: RawPacketRecordTypedInPostgresOut
  
    types:

      - type: ListenerSink
        assemblyKey: RawPacketRecordTypedInPostgresOut
        interfaceKeys:
          - InterfaceDefinition.IBackgroundService
        initializers:
          - initializer: InitializeAsync
            parameters:
              - parameter: iFileLogger
                interfaceKey: InterfaceDefinition.IFileLogger
              - parameter: iSettingsRepository
                interfaceKey: InterfaceDefinition.ISettingsRepository

namedInstances:

  - namedInstance: RootCancellationTokenSource
    typeKey: System.CancellationTokenSource
    assignmentMode: None

  - namedInstance: TheFileLogger
    typeKey: Logging.FileLogger
    assignmentMode: Initializer
    exposeAsInterface: InterfaceDefinition.IFileLogger
    initializerKey: InitializeAsync
    assignments:
      - assignment: fileSizeLimitBytes
        value: 10485760
      - assignment: minimumLevel
        value: Information
      - assignment: outputTemplate
        value: "[{Timestamp:yyyy-MM-dd HH:mm:ss} {Level:u3}] {Message:lj}{NewLine}{Exception}"
      - assignment: path
        value: logs/log-.txt
      - assignment: retainedFileCountLimit
        value: 7
      - assignment: rollingInterval
        value: Day
      - assignment: rollOnFileSizeLimit
        value: true

  - namedInstance: TheUdpPortSetting
    typeKey: Settings.SettingConfiguration
    assignmentMode: Initializer
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration
    initializerKey: InitializeAsync
    assignments:
      - assignment: defaultValue
        value: 50222
      - assignment: description
        value: UDP Port for listening for readings from Tempest Weather Station
      - assignment: expectedValueType
        value: Int32
      - assignment: group
        value: UDPSettings
      - assignment: isEditable
        value: true
      - assignment: path
        value: /services/UDPSettings/PreferredPort
      - assignment: enumValues
        value: null
      - assignment: isSecret
        value: null

  - namedInstance: TheUdpPortSettings
    typeKey: Settings.SettingConfiguration[]
    assignmentMode: NamedInstanceArray
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration[]
    elements:
      - namedInstanceKey: TheUdpPortSetting

  - namedInstance: TemperatureOptions
    typeKey: System.String[]
    assignmentMode: PrimitiveArray
    elements:
      - value: degree celsius
      - value: degree fahrenheit

  - namedInstance: UdpTemperatureSetting
    typeKey: Settings.SettingConfiguration
    assignmentMode: Initializer
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration
    initializerKey: InitializeAsync
    assignments:
      - assignment: defaultValue
        value: degree fahrenheit
      - assignment: description
        value: Override temperature unit for UDP readings
      - assignment: expectedValueType
        value: String
      - assignment: group
        value: units
      - assignment: isEditable
        value: true
      - assignment: path
        value: /services/udp/unitOverrides/temperature
      - assignment: enumValues
        namedInstanceKey: TemperatureOptions
      - assignment: isSecret
        value: null

  - namedInstance: WindspeedOptions
    typeKey: System.String[]
    assignmentMode: PrimitiveArray
    elements:
      - value: kilometer/hour
      - value: knot
      - value: meter/second
      - value: mile/hour

  - namedInstance: UdpWindspeedSetting
    typeKey: Settings.SettingConfiguration
    assignmentMode: Initializer 
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration
    initializerKey: InitializeAsync
    assignments:
      - assignment: defaultValue
        value: mile/hour
      - assignment: description
        value: Override wind speed unit for UDP readings
      - assignment: expectedValueType
        value: String
      - assignment: group
        value: units
      - assignment: isEditable
        value: true
      - assignment: path
        value: /services/udp/unitOverrides/windSpeed
      - assignment: enumValues
        namedInstanceKey: WindspeedOptions
      - assignment: isSecret
        value: null

  - namedInstance: PressureOptions
    typeKey: System.String[]
    assignmentMode: PrimitiveArray
    elements:
      - value: atmosphere
      - value: bar
      - value: hectopascal
      - value: inch of mercury
      - value: kilopascal
      - value: millibar
      - value: pascal

  - namedInstance: UdpPressureSetting
    typeKey: Settings.SettingConfiguration
    assignmentMode: Initializer 
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration
    initializerKey: InitializeAsync
    assignments:
      - assignment: defaultValue
        value: millibar
      - assignment: description
        value: Override pressure unit for UDP readings
      - assignment: expectedValueType
        value: String
      - assignment: group
        value: units
      - assignment: isEditable
        value: true
      - assignment: path
        value: /services/udp/unitOverrides/pressure
      - assignment: enumValues
        namedInstanceKey: PressureOptions
      - assignment: isSecret
        value: null

  - namedInstance: PrecipitationOptions
    typeKey: System.String[]
    assignmentMode: PrimitiveArray
    elements:
      - value: centimeter
      - value: inch
      - value: millimeter

  - namedInstance: UdpPrecipitationSetting
    typeKey: Settings.SettingConfiguration
    assignmentMode: Initializer 
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration
    initializerKey: InitializeAsync
    assignments:
      - assignment: defaultValue
        value: inch
      - assignment: description
        value: Override precipitation unit for UDP readings
      - assignment: expectedValueType
        value: String
      - assignment: group
        value: units
      - assignment: isEditable
        value: true
      - assignment: path
        value: /services/udp/unitOverrides/precipitation
      - assignment: enumValues
        namedInstanceKey: PrecipitationOptions
      - assignment: isSecret
        value: null

  - namedInstance: DistanceOptions
    typeKey: System.String[]
    assignmentMode: PrimitiveArray
    elements:
      - value: kilometer
      - value: meter
      - value: mile
      - value: nautical mile

  - namedInstance: UdpDistanceSetting
    typeKey: Settings.SettingConfiguration
    assignmentMode: Initializer 
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration
    initializerKey: InitializeAsync
    assignments:
      - assignment: defaultValue
        value: mile
      - assignment: description
        value: Override distance unit for UDP readings
      - assignment: expectedValueType
        value: String
      - assignment: group
        value: units
      - assignment: isEditable
        value: true
      - assignment: path
        value: /services/udp/unitOverrides/distance
      - assignment: enumValues
        namedInstanceKey: DistanceOptions
      - assignment: isSecret
        value: null

  - namedInstance: TheUdpListenerSettings
    typeKey: Settings.SettingConfiguration[]
    assignmentMode: NamedInstanceArray
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration[]
    elements:
      - namedInstanceKey: UdpTemperatureSetting
      - namedInstanceKey: UdpWindspeedSetting
      - namedInstanceKey: UdpPressureSetting
      - namedInstanceKey: UdpPrecipitationSetting
      - namedInstanceKey: UdpDistanceSetting

  - namedInstance: TheAppDataSettingOverridesProvider
    typeKey: MauiSettingOverridesProviders.AppDataSettingOverridesProvider
    assignmentMode: Initializer 
    exposeAsInterface: InterfaceDefinition.ISettingOverrideProvider
    initializerKey: InitializeAsync
    assignments:
      - assignment: filename
        value: null

  - namedInstance: TheUDPSettingsRepository
    typeKey: Settings.SettingsRepository
    assignmentMode: Initializer 
    exposeAsInterface: InterfaceDefinition.ISettingsRepository
    initializerKey: InitializeAsync
    assignments:
      - assignment: iFileLogger
        namedInstanceKey: TheFileLogger
      - assignment: settingConfigurations
        namedInstanceKey: TheUdpPortSettings
      - assignment: iSettingOverridesProvider
        namedInstanceKey: TheAppDataSettingOverridesProvider

  - namedInstance: TheUdpListener
    typeKey: UdpInRawPacketRecordTypedOut.Transformer
    assignmentMode: Initializer
    initializerKey: InitializeAsync
    exposeAsInterface: InterfaceDefinition.IBackgroundService
    eagerLoad: true
    assignments:
      - assignment: iFileLogger
        namedInstanceKey: TheFileLogger
      - assignment: iSettingsRepository
        namedInstanceKey: TheUDPSettingsRepository
      - assignment: externalCancellationTokenSource
        namedInstanceKey: RootCancellationTokenSource

  - namedInstance: ThePostgresConnection
    typeKey: Settings.SettingConfiguration
    assignmentMode: Initializer
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration
    initializerKey: InitializeAsync
    assignments:
      - assignment: defaultValue
        value: emptyString
      - assignment: description
        value: Connection string for save weather data to Postgres
      - assignment: expectedValueType
        value: String
      - assignment: group
        value: database
      - assignment: isEditable
        value: true
      - assignment: path
        value: /services/RawPacketRecordTypedInPostgresOut/connectionString
      - assignment: enumValues
        value: null
      - assignment: isSecret
        value: true

  - namedInstance: ThePostgresSettings
    typeKey: Settings.SettingConfiguration[]
    assignmentMode: NamedInstanceArray
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration[]
    elements:
      - namedInstanceKey: ThePostgresConnection

  - namedInstance: ThePostgresSettingsRepository
    typeKey: Settings.SettingsRepository
    assignmentMode: Initializer
    exposeAsInterface: InterfaceDefinition.ISettingsRepository
    initializerKey: InitializeAsync
    assignments:
      - assignment: iFileLogger
        namedInstanceKey: TheFileLogger
      - assignment: settingConfigurations
        namedInstanceKey: ThePostgresSettings

  - namedInstance: TheRawPacketRecordTypedInPostgresOut
    typeKey: RawPacketRecordTypedInPostgresOut.ListenerSink
    assignmentMode: Initializer 
    exposeAsInterface: InterfaceDefinition.IBackgroundService    
    initializerKey: InitializeAsync
    assignments:
      - assignment: iFileLogger
        namedInstanceKey: TheFileLogger
      - assignment: iSettingsRepository
        namedInstanceKey: ThePostgresSettingsRepositorycodeGen:

  registryClass: Registry
  generatedCodePath: C:/Temp/DdiRuntime/Generated
  resourceProvider: StaticDataStore
  namespace: ServiceRegistry
  failFast: true
  enumTemplatePath: CodeGeneration/NamedInstanceAccessor/Templates/Enums.tplt
  enums:
    - enum: RegAssembly
      scope: internal
    - enum: RegInterface
      scope: internal
    - enum: RegType
      scope: internal
    - enum: RegNamedInstance
      scope: public
    
  namedInstanceAccessor:  
    class: NamedInstanceAccessor
    classTemplatePath: CodeGeneration/NamedInstanceAccessor/Templates/NamedInstanceAccessorClass.tplt
    functionTemplatePath: CodeGeneration/NamedInstanceAccessor/Templates/NamedInstanceAccessorFunction.tplt
  
assemblies:
  - assembly: InterfaceDefinition
    fullName: InterfaceDefinition, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
    path: C:/Users/JackM/source/repos/Weather App/ServiceAssemblies/InterfaceDefinition.dll
  - assembly: Logging
    fullName: Logging, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
    path: C:/Users/JackM/source/repos/Weather App/ServiceAssemblies/Logging.dll
  - assembly: Settings
    fullName: Settings, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
    path: C:/Users/JackM/source/repos/Weather App/ServiceAssemblies/Settings.dll
  - assembly: System
    primitive: true
  - assembly: Utility
    fullName: Utility, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
    path: C:/Users/JackM/source/repos/Weather App/ServiceAssemblies/Utility.dll
  - assembly: Resources
    fullName: Resources, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
    path: C:/Users/JackM/source/repos/Weather App/ServiceAssemblies/Resources.dll
  - assembly: UdpInRawPacketRecordTypedOut
    fullName: UdpInRawPacketRecordTypedOut, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
    path: C:/Users/JackM/source/repos/Weather App/ServiceAssemblies/UdpInRawPacketRecordTypedOut.dll
  - assembly: RawPacketRecordTypedInPostgresOut
    fullName: RawPacketRecordTypedInPostgresOut, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
    path: C:/Users/JackM/source/repos/Weather App/ServiceAssemblies/RawPacketRecordTypedInPostgresOut.dll
  - assembly: MauiSettingOverrideProviders
    fullName: MauiSettingOverrideProviders, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
    path: C:/Users/JackM/source/repos/Weather App/ServiceAssemblies/MauiSettingOverrideProviders.dll

namespaces:

  - namespace: InterfaceDefinition
  
    interfaces:
    
      - interface: IFileLogger
        assemblyKey: InterfaceDefinition      
        
      - interface: ISettingConfiguration
        assemblyKey: InterfaceDefinition
        
      - interface: ISettingConfiguration[]
        assemblyKey: InterfaceDefinition
        
      - interface: ISettingsRepository
        assemblyKey: InterfaceDefinition
        
      - interface: IBackgroundService
        assemblyKey: InterfaceDefinition
        
      - interface: Settings.ISettingOverridesProvider
        assemblyKey: InterfaceDefinition
        
  - namespace: System
  
    types:
    
      - type: String
        assemblyKey: System

      - type: String[]
        assemblyKey: System

      - type: Int32
        assemblyKey: System

      - type: Boolean
        assemblyKey: System
        
      - type: Boolean?
        assemblyKey: System

      - type: CancellationTokenSource
        assemblyKey: System
        assignable: false
  
  - namespace: Logging
  
    types:
    
      - type: FileLogger
        assemblyKey: Logging
        interfaceKeys:
          - InterfaceDefinition.IFileLogger
        initializers:
          - initializer: InitializeAsync
            parameters:
              - parameter: fileSizeLimitBytes
                typeKey: System.Int32
              - parameter: minimumLevel
                typeKey: System.String
              - parameter: outputTemplate
                typeKey: System.String
              - parameter: path
                typeKey: System.String
              - parameter: retainedFileCountLimit
                typeKey: System.Int32
              - parameter: rollingInterval
                typeKey: System.String
              - parameter: rollOnFileSizeLimit
                typeKey: System.Boolean

  - namespace: MauiSettingOverridesProviders
      
    types:
      
      - type: AppDataSettingOverridesProvider
        assemblyKey: MauiSettingOverridesProviders
        interfaceKeys:
          - InterfaceDefinition.ISettingOverridesProvider
        initializers:
          - initializer: InitializeAsync
            parameters:
              - parameter: filename
                typeKey: System.String
                    
  - namespace: Settings
  
    types:

      - type: SettingConfiguration
        assemblyKey: Settings
        initializers:
          - initializer: InitializeAsync
            parameters:
              - parameter: defaultValue
                typeKey: System.String
              - parameter: description
                typeKey: System.String
              - parameter: expectedValueType
                typeKey: System.String
              - parameter: group
                typeKey: System.String
              - parameter: isEditable
                typeKey: System.Boolean
              - parameter: path
                typeKey: System.String
              - parameter: enumValues
                typeKey: System.String[]
              - parameter: isSecret
                typeKey: System.Boolean?

      - type: SettingConfiguration[]
        assemblyKey: Settings

        # ToDo: Change design to use a Single Repository and ensure paths are unique
        # As of 2025/10/27 there is a non-thread safe single dictionary pointed to by
        # Multiple SettingsRepsitories, which is not safe or ideal.
      - type: SettingsRepository
        assemblyKey: Settings
        initializers:
          - initializer: InitializeAsync
            parameters:
              - parameter: iFileLogger
                interfaceKey: InterfaceDefinition.IFileLogger
              - parameter: settingConfigurations
                typeKey: Settings.SettingConfiguration[]
              - parameter: iSettingOverridesProvider
                interfaceKey: InterfaceDefinition.ISettingOverridesProvider

  - namespace: UdpInRawPacketRecordTypedOut 
    
    types:

      - type: Transformer
        assemblyKey: UdpInRawPacketRecordTypedOut
        interfaceKeys:
          - InterfaceDefinition.IBackgroundService
        initializers:
          - initializer: InitializeAsync
            parameters:
              - parameter: iFileLogger
                interfaceKey: InterfaceDefinition.IFileLogger
              - parameter: iSettingsRepository
                interfaceKey: InterfaceDefinition.ISettingsRepository
              - parameter: externalCancellationTokenSource
                typeKey: System.CancellationTokenSource

  - namespace: RawPacketRecordTypedInPostgresOut
  
    types:

      - type: ListenerSink
        assemblyKey: RawPacketRecordTypedInPostgresOut
        interfaceKeys:
          - InterfaceDefinition.IBackgroundService
        initializers:
          - initializer: InitializeAsync
            parameters:
              - parameter: iFileLogger
                interfaceKey: InterfaceDefinition.IFileLogger
              - parameter: iSettingsRepository
                interfaceKey: InterfaceDefinition.ISettingsRepository

namedInstances:

  - namedInstance: RootCancellationTokenSource
    typeKey: System.CancellationTokenSource
    assignmentMode: None

  - namedInstance: TheFileLogger
    typeKey: Logging.FileLogger
    assignmentMode: Initializer
    exposeAsInterface: InterfaceDefinition.IFileLogger
    initializerKey: InitializeAsync
    assignments:
      - assignment: fileSizeLimitBytes
        value: 10485760
      - assignment: minimumLevel
        value: Information
      - assignment: outputTemplate
        value: "[{Timestamp:yyyy-MM-dd HH:mm:ss} {Level:u3}] {Message:lj}{NewLine}{Exception}"
      - assignment: path
        value: logs/log-.txt
      - assignment: retainedFileCountLimit
        value: 7
      - assignment: rollingInterval
        value: Day
      - assignment: rollOnFileSizeLimit
        value: true

  - namedInstance: TheUdpPortSetting
    typeKey: Settings.SettingConfiguration
    assignmentMode: Initializer
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration
    initializerKey: InitializeAsync
    assignments:
      - assignment: defaultValue
        value: 50222
      - assignment: description
        value: UDP Port for listening for readings from Tempest Weather Station
      - assignment: expectedValueType
        value: Int32
      - assignment: group
        value: UDPSettings
      - assignment: isEditable
        value: true
      - assignment: path
        value: /services/UDPSettings/PreferredPort
      - assignment: enumValues
        value: null
      - assignment: isSecret
        value: null

  - namedInstance: TheUdpPortSettings
    typeKey: Settings.SettingConfiguration[]
    assignmentMode: NamedInstanceArray
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration[]
    elements:
      - namedInstanceKey: TheUdpPortSetting

  - namedInstance: TemperatureOptions
    typeKey: System.String[]
    assignmentMode: PrimitiveArray
    elements:
      - value: degree celsius
      - value: degree fahrenheit

  - namedInstance: UdpTemperatureSetting
    typeKey: Settings.SettingConfiguration
    assignmentMode: Initializer
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration
    initializerKey: InitializeAsync
    assignments:
      - assignment: defaultValue
        value: degree fahrenheit
      - assignment: description
        value: Override temperature unit for UDP readings
      - assignment: expectedValueType
        value: String
      - assignment: group
        value: units
      - assignment: isEditable
        value: true
      - assignment: path
        value: /services/udp/unitOverrides/temperature
      - assignment: enumValues
        namedInstanceKey: TemperatureOptions
      - assignment: isSecret
        value: null

  - namedInstance: WindspeedOptions
    typeKey: System.String[]
    assignmentMode: PrimitiveArray
    elements:
      - value: kilometer/hour
      - value: knot
      - value: meter/second
      - value: mile/hour

  - namedInstance: UdpWindspeedSetting
    typeKey: Settings.SettingConfiguration
    assignmentMode: Initializer 
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration
    initializerKey: InitializeAsync
    assignments:
      - assignment: defaultValue
        value: mile/hour
      - assignment: description
        value: Override wind speed unit for UDP readings
      - assignment: expectedValueType
        value: String
      - assignment: group
        value: units
      - assignment: isEditable
        value: true
      - assignment: path
        value: /services/udp/unitOverrides/windSpeed
      - assignment: enumValues
        namedInstanceKey: WindspeedOptions
      - assignment: isSecret
        value: null

  - namedInstance: PressureOptions
    typeKey: System.String[]
    assignmentMode: PrimitiveArray
    elements:
      - value: atmosphere
      - value: bar
      - value: hectopascal
      - value: inch of mercury
      - value: kilopascal
      - value: millibar
      - value: pascal

  - namedInstance: UdpPressureSetting
    typeKey: Settings.SettingConfiguration
    assignmentMode: Initializer 
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration
    initializerKey: InitializeAsync
    assignments:
      - assignment: defaultValue
        value: millibar
      - assignment: description
        value: Override pressure unit for UDP readings
      - assignment: expectedValueType
        value: String
      - assignment: group
        value: units
      - assignment: isEditable
        value: true
      - assignment: path
        value: /services/udp/unitOverrides/pressure
      - assignment: enumValues
        namedInstanceKey: PressureOptions
      - assignment: isSecret
        value: null

  - namedInstance: PrecipitationOptions
    typeKey: System.String[]
    assignmentMode: PrimitiveArray
    elements:
      - value: centimeter
      - value: inch
      - value: millimeter

  - namedInstance: UdpPrecipitationSetting
    typeKey: Settings.SettingConfiguration
    assignmentMode: Initializer 
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration
    initializerKey: InitializeAsync
    assignments:
      - assignment: defaultValue
        value: inch
      - assignment: description
        value: Override precipitation unit for UDP readings
      - assignment: expectedValueType
        value: String
      - assignment: group
        value: units
      - assignment: isEditable
        value: true
      - assignment: path
        value: /services/udp/unitOverrides/precipitation
      - assignment: enumValues
        namedInstanceKey: PrecipitationOptions
      - assignment: isSecret
        value: null

  - namedInstance: DistanceOptions
    typeKey: System.String[]
    assignmentMode: PrimitiveArray
    elements:
      - value: kilometer
      - value: meter
      - value: mile
      - value: nautical mile

  - namedInstance: UdpDistanceSetting
    typeKey: Settings.SettingConfiguration
    assignmentMode: Initializer 
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration
    initializerKey: InitializeAsync
    assignments:
      - assignment: defaultValue
        value: mile
      - assignment: description
        value: Override distance unit for UDP readings
      - assignment: expectedValueType
        value: String
      - assignment: group
        value: units
      - assignment: isEditable
        value: true
      - assignment: path
        value: /services/udp/unitOverrides/distance
      - assignment: enumValues
        namedInstanceKey: DistanceOptions
      - assignment: isSecret
        value: null

  - namedInstance: TheUdpListenerSettings
    typeKey: Settings.SettingConfiguration[]
    assignmentMode: NamedInstanceArray
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration[]
    elements:
      - namedInstanceKey: UdpTemperatureSetting
      - namedInstanceKey: UdpWindspeedSetting
      - namedInstanceKey: UdpPressureSetting
      - namedInstanceKey: UdpPrecipitationSetting
      - namedInstanceKey: UdpDistanceSetting

  - namedInstance: TheAppDataSettingOverridesProvider
    typeKey: MauiSettingOverridesProviders.AppDataSettingOverridesProvider
    assignmentMode: Initializer 
    exposeAsInterface: InterfaceDefinition.ISettingOverrideProvider
    initializerKey: InitializeAsync
    assignments:
      - assignment: filename
        value: null

  - namedInstance: TheUDPSettingsRepository
    typeKey: Settings.SettingsRepository
    assignmentMode: Initializer 
    exposeAsInterface: InterfaceDefinition.ISettingsRepository
    initializerKey: InitializeAsync
    assignments:
      - assignment: iFileLogger
        namedInstanceKey: TheFileLogger
      - assignment: settingConfigurations
        namedInstanceKey: TheUdpPortSettings
      - assignment: iSettingOverridesProvider
        namedInstanceKey: TheAppDataSettingOverridesProvider

  - namedInstance: TheUdpListener
    typeKey: UdpInRawPacketRecordTypedOut.Transformer
    assignmentMode: Initializer
    initializerKey: InitializeAsync
    exposeAsInterface: InterfaceDefinition.IBackgroundService
    eagerLoad: true
    assignments:
      - assignment: iFileLogger
        namedInstanceKey: TheFileLogger
      - assignment: iSettingsRepository
        namedInstanceKey: TheUDPSettingsRepository
      - assignment: externalCancellationTokenSource
        namedInstanceKey: RootCancellationTokenSource

  - namedInstance: ThePostgresConnection
    typeKey: Settings.SettingConfiguration
    assignmentMode: Initializer
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration
    initializerKey: InitializeAsync
    assignments:
      - assignment: defaultValue
        value: emptyString
      - assignment: description
        value: Connection string for save weather data to Postgres
      - assignment: expectedValueType
        value: String
      - assignment: group
        value: database
      - assignment: isEditable
        value: true
      - assignment: path
        value: /services/RawPacketRecordTypedInPostgresOut/connectionString
      - assignment: enumValues
        value: null
      - assignment: isSecret
        value: true

  - namedInstance: ThePostgresSettings
    typeKey: Settings.SettingConfiguration[]
    assignmentMode: NamedInstanceArray
    exposeAsInterface: InterfaceDefinition.ISettingConfiguration[]
    elements:
      - namedInstanceKey: ThePostgresConnection

  - namedInstance: ThePostgresSettingsRepository
    typeKey: Settings.SettingsRepository
    assignmentMode: Initializer
    exposeAsInterface: InterfaceDefinition.ISettingsRepository
    initializerKey: InitializeAsync
    assignments:
      - assignment: iFileLogger
        namedInstanceKey: TheFileLogger
      - assignment: settingConfigurations
        namedInstanceKey: ThePostgresSettings

  - namedInstance: TheRawPacketRecordTypedInPostgresOut
    typeKey: RawPacketRecordTypedInPostgresOut.ListenerSink
    assignmentMode: Initializer 
    exposeAsInterface: InterfaceDefinition.IBackgroundService    
    initializerKey: InitializeAsync
    assignments:
      - assignment: iFileLogger
        namedInstanceKey: TheFileLogger
      - assignment: iSettingsRepository
        namedInstanceKey: ThePostgresSettingsRepository